{
    
    "id": 30466,
	"old_ids": [41258],
	"old_sites": ["komikstation.com", " komikstation.co"],
	"version": 27,
	
	
	"title": "Komik Station",
	"host": "https://komikstation.org/",
	"public_link": "https://komikstation.org/manga",
	"folder": "komikstation",
	"name": "komikstation",
	"language": "id",
	
	"icon_link": "https://raw.githubusercontent.com/veopot/mwx-json/main/img/komikstation.png",
	"self_link": "https://raw.githubusercontent.com/veopot/mwx-json/main/parsers/komikstation.json",
	"self_link2": "https://fant.my1.ru/mwparser/mwx/json/komikstation.json",
	"catalog_link": "https://raw.githubusercontent.com/veopot/mwx-json/main/catalogs/komikstation.zip",
    "file_type": "sqlite",
	
	 "manga_search_complete": {
	    "headers": {"Referer": "https://komikstation.org/"},
		"search_link": "https://komikstation.org/page/$page$/?s=$query$",
		"query_type": "GET",
		
		"add_manga":  {
		    "next": "<div class=\"bsx\">",
			"link":  { "token1": "href=\"", "token2": "\"" },
			"title": { "token1": "title=\"", "token2": "\"" },
			"uniq": { "token1": "href=\"https://komikstation.org/manga/", "token2": "\"" },
			"cover":  { "skip": "<img", "token1": "src=\"", "token2": "\""},
            "summary":{ "token1":"<div class=\"tt\">", "token2": "</div>"}
		}
	},
		
	
	"manga_list_complete": {
		"iterator": {
            "base_url": "https://komikstation.org/manga/?page=",
            "append_nums": { "from": 1, "to": 284, "step": 1, "sufix": "&title=&author=&yearx=&status=&order=popular&type=" }
        },
		"add_manga": { 
			"next": "<div class=\"bsx\">",
			"link":  { "token1": "href=\"", "token2": "\"" },
			"title": { "token1": "title=\"", "token2": "\"" },
			"uniq": { "token1": "href=\"https://komikstation.org/manga/", "token2": "\"" }
		}
	},
	"manga_complete": {
	
		"title":  { "token1": "<h1 class=\"entry-title\" itemprop=\"name\">", "token2": "</h1>",
				    "replace": [
				    {"match":"<.*?>","text":""},
                    { "match": "Bahasa Indonesia", "text": ""}
				]
		},
		
		"additional_title": { "after": "Judul Alternatif</b>",  "token1": "<span>", "token2": "</" },
		
		"uniq":        {"after": "rel=\"canonical\"",  "token1": "/manga/", "token2": "\"" },
		
		"author":      { "after": "Penulis</b>",  "token1": "<span>", "token2": "</" },
		
		"cover":       { "skip": "property=\"og:image\"", "token1": "content=\"", "token2": "\"" },
		
		"is_mature": {
			"start": "class=\"item\">Тэги",
			"end": ">Переводчики",
			"values": ["Peringatan Konten</div>", "rel=\"tag\">Seinen</a>", "rel=\"tag\">Mature</a>"]
		},
		
		
		"status":      { "complete": "<i>Completed</i>", "ongoing": "<i>Ongoing</i>" },
		
		"summary":      { "after": "itemprop=\"description", "token1": "\">", "token2": "</",
        "replace":{"match":"<.*?>","text":""}},
		
		"add_genres":   {
        "start": "Genre</b><span class=\"mgen\">",
		"end": "<strong>Keywords",
		"token1": "rel=\"tag\">",
		"token2": "</" 
		},
		
		"add_chapter": {
			"start": "<div id=\"ts-chapter-history\"",
			"next":  "<div class=\"eph-num\">", 
			"link":  { "token1": "<a href=\"", "token2": "\"" }, 
			"title": { "skip": "<a href=\"", "token1": ">", "token2": "</" },
			"end":   "<script>var chapterSearchNotFound"
		}
	},
	
	"chapter_complete": {
		"images": true,
		"add_pages": { 
			"start": "id=\"readerarea", 
			"token1": "src=\"", 
			"token2": "\"",
			"end": "</article>"
		}
	},

	"test": [
		{
			"proc" : "manga_list_complete",
			"testpages": 2,
			"assert" : {
				"mangas" : [
		{  
		"uniq": "tales-of-demons-and-gods_",
        "link": "https://komikstation.org/manga/tales-of-demons-and-gods/",
        "title": "Tales of Demons and Gods"
        }
				],
				"mangas_count" : ">20"
			}
		},
		{
			"proc" : "manga_complete",
			"title" : "Peerless Soul", 
			"link" : "https://komikstation.org/manga/peerless-soul/",
			"assert" : {
				"author" : "Supreme Villain",
				"cover" : "https://komikstation.org/wp-content/uploads/2019/11/Peerless-Soul.jpg",
				"summary" : "@^(Di daratan Canglan)",
				"genres" : "@action",
				"status" : "ongoing",
				"genres_count" : ">=6",
				"chapters_count" : ">=680",
				"chapters" : [
		{
            "folder": "peerless-soul-chapter-0\\",
            "link": "https://komikstation.org/peerless-soul-chapter-0/",
            "title": "Chapter 0"
        },
        {
            "link": "https://komikstation.org/peerless-soul-chapter-1/",
            "title": "Chapter 1"
        },
				]
			}
		},

		{
			"proc" : "chapter_complete",
			"link" : "https://komikstation.org/peerless-soul-chapter-1/", 
			"assert" : {
				"pages" : [
 {"image": "https://img.klikcdn.com/data-manga/9f58da765b77f02244ebde8dcbb674c4/1/1_521d75b099b17cc7447c961956fbe708.jpg"},
        {"image": "https://img.klikcdn.com/data-manga/9f58da765b77f02244ebde8dcbb674c4/1/2_7bf61b930cdd037d0a3682068603f855.jpg"},
        {"image": "https://img.klikcdn.com/data-manga/9f58da765b77f02244ebde8dcbb674c4/1/3_61b9afb817e5aac6f159471e50b44163.jpg"},
        {"image": "https://img.klikcdn.com/data-manga/9f58da765b77f02244ebde8dcbb674c4/1/4_a8ec5e92cab2aafeb21af9cf171a1958.jpg"}
				],
				"pages_count": "36"
			}
		}
	]
}