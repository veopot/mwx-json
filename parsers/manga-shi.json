{
    "id": 52134,
    "version": 3,
    "title": "Manga-shi",
    "host": "https://manga-shi.org",
    "public_link": "https://manga-shi.org/manga",
    "folder": "manga-shi",
    "name": "manga-shi",
    "chapters_order": true,
    "language": "ru",
    "encoding": "utf-8",

    "icon_link": "https://raw.githubusercontent.com/veopot/mwx-json/main/img/manga-shi.png",
    "self_link": "https://raw.githubusercontent.com/veopot/mwx-json/main/parsers/manga-shi.json",
    "self_link2": "https://fant.my1.ru/mwparser/mwx/json/manga-shi.json",
    "catalog_link": "https://raw.githubusercontent.com/veopot/mwx-json/main/catalogs/manga-shi.zip",
    "file_type": "sqlite",
    "author": {
        "name": "MWX Team",
        "email": "fant-net@ya.ru"
    },
    
	

	
    "manga_search_complete": {
       "headers": {
			"Accept": "*/*",
            "Referer": "https://manga-shi.org/",
            "User-Agent": "MangaWatcherX" 
			},
        "search_link": "https://manga-shi.org/?s=$query$&post_type=wp-manga",
        "query_type": "GET",
        "add_manga": {
            "start": "<div class=\"search-wrap\">",
            "end": "class=\"site-footer\">",
            "next": "class=\"manga__content_item\">",
            "link": {
                "skip": "<a",
                "token1": "href=\"",
                "token2": "\""
            },

            "title": {
				 "skip": "href=\"",
                "token1": "\">",
                "token2": "</"
            },
            "uniq": {
				"skip": "href=\"",
                "token1": "https://manga-shi.org/manga/",
                "token2": "\""
            },
			
            "cover": {
				
				"before": "href=\"",
                "token1":"src=\"",
                "token2":"\""
            },
            
            "summary": {
                "token1": "<p class=\"ds-markdown-paragraph\">",
                "token2": "<div class=\"manga-info\">",
				"replace": [
				    { "match": "&quot;", "text": "'" },
					{ "clear_escape": true },
                    { "clear_html": true },
					{ "match": "<.*?>", "text": " " }
				]
            }
        }
    },
    "manga_list_complete": {
         "headers": {
			"Accept": "*/*",
            "Referer": "https://manga-shi.org/",
            "User-Agent": "MangaWatcherX" 
			},
        "iterator": {
            "base_url": "https://manga-shi.org/manga/?m_orderby=rating&page=",
            "append_nums": {
                "from": 1,
                "to": 38
            }
        },
        "add_manga": {
            "start": "<h1 class=\"item-title h4\">",
            "end": "<footer class=\"site-footer\">",
            "next": "class=\"manga__content_item\">",
            "link": {
                "skip": "<a",
                "token1": "href=\"",
                "token2": "\""
            },

            "title": {
				 "skip": "href=\"",
                "token1": "\">",
                "token2": "</"
            },
            "uniq": {
				"skip": "href=\"",
                "token1": "https://manga-shi.org/manga/",
                "token2": "\""
            }
        },
	    
        "rating_auto_inc": {
            "start": "40000",
            "inc": -1
        }
    },
    "manga_complete": {
		
        "headers": {
			"Accept": "*/*",
            "Referer": "https://manga-shi.org/",
            "User-Agent": "MangaWatcherX" 
			},
        
		
		
		"title":{
         "skip":"<meta property=\"og:title\"", 
         "token1":"content=\"",
         "token2":"\"" ,
		  "replace": [
				{"match": "Манга","text": ""},
				{"match": "Манхва","text": ""},
				{"match": "/","text": "|"},
				{"match":"<.*?>","text":""}

				]},
				
		
        
        "uniq": {
            "token1": "<meta property=\"og:url\" content=\"https://manga-shi.org/manga/",
            "token2": "\">"
        },
        "cover": {
			"skip": "<meta property=\"og:image\"",
            "token1":"content=\"",
            "token2":"\""
        },
        "summary": {
			"skip": "class=\"description-summary\">",
            "token1":"\">",
            "token2":"</div>",
            "replace": [
                {
                    "match": "u003Cp",
                    "text": ""
                },
                {
                    "match": "u003E",
                    "text": ""
                },
                {
                    "match": "u003C",
                    "text": ""
                },
                {
                    "match": "<.*?>",
                    "text": ""
                },
                {
                    "match": "u002Fp",
                    "text": ""
                },
                {
                    "match": "&quot;",
                    "text": "'"
                }
            ]
        },
       
	   
	   "author":      { "skip": "class=\"author-content\">", "token1": "\">", "token2": "</" },
        "status": {
            "complete": {
                "start": "<div class=\"post-title\">",
                "end": "MANGA DISCUSSION</h4>",
                "values": ["Закончен", "Переведена","Завершен","Сингл","Отменено","Завершено"]
            },
            "ongoing": {
                "start": "<div class=\"post-title\">",
                "end": "MANGA DISCUSSION</h4>",
                "value": "Онгоинг"
            }
        },
        
        "add_genres": {
            "start": "<div class=\"genres-content\">",
            "end": "</div>",
            "token1": "\">",
            "token2": "</"
        },
		"add_tags": {
            "start": "class=\"tags-content\">",
            "end": "</div>",
            "token1": "\">",
            "token2": "</"
        },
		
        "is_mature": {
            "values": ["Сэйнэн", "Эротика", "Юри", "Яой",">18+</div>",    "class=\"tags__item tags__item--warning\">" ]
        },
		
		"need_auth": [
			"залогиненным",
			">18+</div>",
			"хентай"
		],
        
		
		"chapters_from_page": {
            "before": "id=\"btn-read-last\"",
            "token1": "href=\"",
            "token2": "\""
        },
		
        "add_chapter": {
			"headers": {
			"Accept": "*/*",
            "Referer": "%%url%%",
			"User-Agent": "mangawatcherx"
			},
			
            "start": "class=\"page-content-listing",
            "end": "class=\"wp-manga-section\">",
            "next": "class=\"chapter-name\">",
            
			"link": {
                "token1": "href=\"",
                "token2": "\""
            },
            "uniq": {
                "skip": "href=\"https://manga-shi.org",
                "token1": "\">",
                "token2": "</a>",
                "replace":{ "match": "/", "text": "_" }
            },
            "title": {
                "skip": "href=\"https://manga-shi.org",
                "token1": "\">",
                "token2": "</a>",
                "replace": [
                    {
                        "match": "<.*?>",
                        "text": ""
                    },
					{
                        "match": "&#039;",
                        "text": "'"
                    },
					{
                        "match": "&quot;",
                        "text": "\""
                    },
                    {
                        "match": "\u2014",
                        "text": "-"
                    }
                ]
            }
        }
    },
    "chapter_complete": {
         "headers": {
			"Accept": "*/*",
            "Referer": "https://manga-shi.org/",
            "User-Agent": "MangaWatcherX" 
			},
        "add_images": {
            "start": "class=\"reading-content\">",
			"after": "id=\"image",
			
            "token1": "src=\"",
            "token2": "\"",
            "end": "<div id=\"thank-wrapper\""
        }
    },
    "test": [
        {
            "proc": "manga_list_complete",
            "assert": {
                "mangas": [
                    {
                        "title": "Эксплуатация / Exploitation",
                        "link": "https://manga-shi.org/manga/exploitation/",
                        "uniq": "exploitation_"
                    }
                ],
                "mangas_count": ">=20"
            }
        },
        {
            "proc": "manga_complete",
            "link": "https://manga-shi.org/manga/evolution-from-the-big-tree/",
            "title": "Моё перерождение в древо: Начало эволюции | Evolution From the Big Tree",
			
			"assert": {
                "cover": "https://manga-shi.org/wp-content/uploads/2025/03/uwhipgbe1io2p3jt902uw.jpg",
                "genres": "@action",
				"author": "@Xia Yan",
                "status": "ongoing",
				"summary": "@^(После смерти Юй Цзыюй переродился)",
                "genres_count" : ">=5",
				"chapters_count" : ">=400",
                "chapters": [
        {
            "folder": "Глава 1\\",
            "link": "https://manga-shi.org/manga/evolution-from-the-big-tree/glava-1/",
            "title": "Глава 1"
        },
        {
            "link": "https://manga-shi.org/manga/evolution-from-the-big-tree/glava-2/",
            "title": "Глава 2"
        }
                ]
            }
        },
        {
            "proc": "chapter_complete",
            "link": "https://manga-shi.org/manga/evolution-from-the-big-tree/glava-1/",
            "assert": {
                "pages": [
        {"image": "http://manga-shi.org/wp-content/uploads/WP-manga/data/manga_67c4e50f96f98/145cb3371514c78ca2a12a401e01dcc8/11.webp"},
        {"image": "http://manga-shi.org/wp-content/uploads/WP-manga/data/manga_67c4e50f96f98/145cb3371514c78ca2a12a401e01dcc8/12.webp"},
        {"image": "http://manga-shi.org/wp-content/uploads/WP-manga/data/manga_67c4e50f96f98/145cb3371514c78ca2a12a401e01dcc8/13.webp"},
        {"image": "http://manga-shi.org/wp-content/uploads/WP-manga/data/manga_67c4e50f96f98/145cb3371514c78ca2a12a401e01dcc8/14.webp"},
        {"image": "http://manga-shi.org/wp-content/uploads/WP-manga/data/manga_67c4e50f96f98/145cb3371514c78ca2a12a401e01dcc8/15.webp"},
        {"image": "http://manga-shi.org/wp-content/uploads/WP-manga/data/manga_67c4e50f96f98/145cb3371514c78ca2a12a401e01dcc8/16.webp"},
        {"image": "http://manga-shi.org/wp-content/uploads/WP-manga/data/manga_67c4e50f96f98/145cb3371514c78ca2a12a401e01dcc8/17.webp"}
                ]
            }
        }
    ]
}
